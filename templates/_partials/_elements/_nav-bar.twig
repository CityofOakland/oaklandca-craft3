{% if not craft.app.request.segments() %}
  {% set bgColor = 'bg-transparent' %}
  {% js %}
    window.onscroll = function changeClass(){
      var navBar = document.getElementById('nav-bar');
      var scrollPosY = window.pageYOffset | document.body.scrollTop;
      if(scrollPosY > 1) {
        navBar.classList.add('bg-shark');
        navBar.classList.remove('bg-transparent');
      } else if(scrollPosY <= 100) {
        navBar.classList.add('bg-transparent');
        navBar.classList.remove('bg-shark');
      }
    }
  {% endjs %}
{% else %}
  {% set bgColor = 'bg-shark' %}
{% endif %}
{% set mainNav = craft.entries.section('navigation').slug('main-nav').one() %}

<div class="{{ bgColor }} text-white fixed w-full z-50 trans trans-fast h-40 nav-bar" id="nav-bar">
  <div class="px-8">
    <nav class="flex items-center justify-between">
      <div>
        <a href="/" class="block pt-16 sm:pl-8 mb-8 sm:border-l-2 sm:border-white text-white hover:text-apple fill-current trans-fast">
          {{ craft.inlin.er('/assets/img/logo-oakland.svg') | replace('<svg ', '<svg class="h-8 sm:h-16" ') | raw }}
        </a>
      </div>
      <button id="menu-toggle" class="btn flex lg:hidden -mr-8">Menu</button>
      <ul class="list-reset hidden uppercase lg:flex">
        {% for nav in mainNav.navBuilder.all() %}
          <li{% if not loop.last %} class="mr-8"{% endif %}><a href="{{ nav.navLink.url }}" target="{{ nav.navLink.target }}" class="text-white hover:text-apple trans-fast">{{ nav.navLink.text }}</a></li>
        {% endfor %}
      </ul>
    </nav>
  </div>
</div>

{% js %}
  {% include '_js/navigation.js' %}
{% endjs %}
