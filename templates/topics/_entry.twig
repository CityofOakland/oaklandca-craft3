{% extends '_layouts/_banner-with-nav' %}

{% set relatedEvents = craft.calendar.events.relatedTo(entry) %}
{% set relatedNews = craft.entries.section('news').relatedTo(entry) %}

{% set contactState = entry.addresses | length or entry.address | length or entry.phoneNumbers | length or entry.emailAddress | length or entry.openHours | length %}

{% block content %}
  {% include '_partials/_page-banners' with {
    breadCrumbs: true,
    breadCrumbLinks: [
      {
        title: 'Topics',
        link: '/topics'
      }
    ],
    navMenu: {
      'services': entry.pageServices.exists(),
      'resources': entry.pageResources.exists(),
      'documents': entry.pageDocuments.exists(),
      'projects': entry.pageProjects.exists(),
      'topics': entry.pageTopics.exists(),
      'news': relatedNews.exists(),
      'events': relatedEvents.exists(),
      'about': true,
      'contact': contactState
    }
  } %}
  {% include '_partials/_page-services' with {
    pageServicesLinkText: 'More Services'
  } %}
  {% include '_partials/_page-resources' %}
  {% include '_partials/_page-documents' %}
  {% include '_partials/_page-projects' %}
  {% include '_partials/_page-topics' %}
  {% include '_partials/_page-news' %}
  {% include '_partials/_page-events' %}
  {% include '_partials/_page-about' %}
  {% include '_partials/_page-location' %}
{% endblock %}
